# ResearchAttachmentHub 使用指南

**[English](USAGE_EN.md) | [中文](USAGE.md)**

一个为Obsidian设计的学术研究附件管理插件，支持PDF论文管理、DOI自动识别、网页信息提取、完整数据迁移等高级功能。

## 🎯 快速上手

### 1. 首次使用 - 批量导入现有PDF
如果你的Obsidian库中已有PDF文件，这是最快的开始使用方式：

```bash
命令面板 → "扫描所有附件" → 自动识别现有PDF
```

**扫描结果预览**：
- ✅ 显示找到的PDF文件数量
- ✅ 预览识别的元数据（标题、作者、DOI）
- ✅ 可选择性导入或跳过

### 2. 添加新论文

#### 方式一：从URL下载（推荐）
```bash
命令面板 → "下载论文" → 输入URL → 自动识别 → 下载
```

**支持的网站**：
- arXiv.org - 自动提取标题、作者、摘要
- PubMed - 自动提取标题、作者、发表日期
- IEEE Xplore - 自动提取标题、作者、年份
- SpringerLink - 自动提取标题、作者、年份
- 任何学术网站 - 通过meta标签智能提取

#### 方式二：导入本地PDF
```bash
命令面板 → "导入本地PDF" → 选择文件 → 自动识别信息
```

#### 方式三：批量导入
```bash
命令面板 → "搜索论文" → 输入DOI → 查找已下载论文
```

### 3. 管理论文
```bash
命令面板 → "扫描所有附件"
```

## 🖥️ 视图模式详解

### 列表视图
- **特点**：表格形式，信息密度高
- **功能**：
  - 点击列头排序
  - 顶部搜索框快速过滤
  - 支持多选操作
  - 右键菜单：打开PDF、复制引用、删除

### 预览视图
- **布局**：左侧列表 + 右侧PDF预览
- **功能**：
  - 点击左侧项目即时预览
  - 支持PDF缩放、翻页
  - 侧边栏可调整大小

### 卡片视图
- **特点**：美观卡片布局，视觉效果好
- **功能**：
  - 封面图预览（PDF第一页）
  - 悬停显示详细信息
  - 支持拖拽排序

## 📦 数据管理

### 完整打包迁移

#### 导出完整包
```bash
命令面板 → "导出完整包" → 选择保存位置 → 生成ZIP文件
```

**包含内容**：
- 所有PDF文件（按原结构）
- 数据库文件（json）
- 所有设置和配置
- 翻译文件（如需要）

#### 导入完整包
```bash
命令面板 → "导入完整包" → 选择ZIP文件 → 自动恢复所有数据
```

**支持功能**：
- 选择性导入（跳过已存在文件）
- 冲突解决（重命名或覆盖）



## 🔍 批量导入现有附件

### 扫描所有附件
```bash
命令面板 → "扫描所有附件"
```

**适用场景**：
- 首次使用插件
- 从其他系统迁移
- 整理已有大量PDF文件

**扫描过程**：
1. 扫描整个Vault中的所有PDF文件
2. 对每个PDF尝试提取元数据
3. 显示预览结果
4. 用户确认后选择性导入




## 🛠️ 故障排除

### 常见问题解决

#### 1. 没有数据显示
**解决方法**：
1. 使用"扫描所有附件"命令导入现有PDF
2. 检查插件是否启用
3. 重启Obsidian

#### 2. 自动识别失败
由于识别功能目前还比较简陋，所以在一些情况下可能会失败。
**解决方法**：
1. 检查网络连接
2. 手动输入名称、作者、DOI
3. 使用"导入本地PDF"手动添加

#### 3. PDF文件丢失
**解决方法**：
1. 使用"检查丢失的MD文件"命令
2. 重新扫描附件
3. 检查文件权限

#### 4. 导入导出失败
**解决方法**：
1. 检查磁盘空间
2. 确保文件权限
3. 关闭其他占用文件的程序
4. 如果在独立窗口操作，ob会阻止文件选择器调起，所以会无响应，建议在主程序界面打开RAH界面



## 📋 技术信息

### 插件ID
- 插件ID: `research-attachment-hub`

### 数据存储
- 数据库文件: `.obsidian/plugins/obsidian-research-attachment-hub/data.json`
- 设置信息: `.obsidian/plugins/obsidian-research-attachment-hub/hubsetting.json`

### 日常使用流程
1. **新论文**: 使用"下载论文"命令
2. **现有文件**: 使用"扫描所有附件"命令
3. **管理**: 使用"打开附件管理器"
4. **标签**: 为附件添加标签（可选择生成MD文件用于Obsidian标签管理）
5. **移动**: 自由移动PDF文件，链接自动更新
6. **备份**: 定期使用"导出完整包"

